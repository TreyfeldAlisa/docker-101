В этом задании мы попрактикуемся работать с Docker. Нам нужно научиться создавать образы со своим приложением, запускать и останавливать их. Кроме того мы рассмотрим запуск базы данных внутри докера.

В качестве приложения возьмите любую задачу, которую сделали вчера. Перед началом контейнеризации перепроверьте работу кода, убедитесь, что он корректно работает с базой данных.

# Release 1. Запускаем базу данных.

Первым делом давайте запустим новую базу данных в Docker-контейнере. Скорее всего на вашем компьютере уже запущена БД, остановите её, чтобы случайно не использовать её вместо контейнеризированной.

Используйте для запуска готовый образ, опубликованный в DockerHub. Помните, что по умолчанию никакие порты контейнера не будут доступны с вашей машины, однако это легко изменить с помощью параметра `-p`. Передайте правильные параметры, чтобы при запуске была создана база данных и нужный вам пользователь с паролем. 

Теперь необходимо убедиться, что контейнер запустился и работает корректно. Попробуйте подключиться к контейнеру с помощью psql, Beekeeper или pgAdmin. Используйте логин и пароль, который передали в параметрах при запуске контейнера.

Запустите ваше приложение, которое ещё не контейнеризировано. При необходимости исправьте конфигурацию подключения к БД. Если приложение работает корректно — переходите к следующему релизу.

# Release 2. Пишем Dockerfile

Теперь пришло время запустить в контейнере и наш собственный код. Для запуска контейнера нам нужно сначала построить образ. Образ должен содержать все зависимости, необходимые для запуска приложения. При этом образ **не** должен содержать dev-зависимости.

Для создания образа всегда используется команда `docker build` и файл `Dockerfile`. Создайте этот файл и наполните его инструкциями для создания образа. Ваш образ должен базироваться на одном из официальных образов `node`, содержать ваш код со всеми необходимым для запуска зависимостями и обязательно устанавливать команду для запуска приложения.

Помните, что адресация внутри локальной сети докера отличается от адресации на компьютере. Проверьте, что в конфигурации приложения указан правильный IP-адрес.

Постройте образ и запустите его. Не забудьте про порты! После запуска ваше приложение должно успешно соединиться с базой данных и работать как обычно. За исключением того, что это теперь контейнер!

# Release 3. Выносим хранилище базы данных из контейнера

Возможно вы заметили, что при удалении контейнера удаляются и все файлы, содержащиеся в нём. Это не очень удобно для базы данных. Для того, чтобы оставлять файлы между разными контейнерами, существует два механизма: монтирование и volumes.

Используйте любой из них чтобы обеспечить сохранение данных в базе данных при удалении контейнера. Для проверки удалите контейнер с помощью команды `docker rm` и запустите его заново. Все данные в базе данных должны остаться.
